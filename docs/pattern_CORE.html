---

title: Pattern Sanity Check on CORE Abstracts


keywords: fastai
sidebar: home_sidebar



nb_path: "99_pattern_CORE.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 99_pattern_CORE.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;downloads/sample_4k.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="c1">#print(data[&#39;data&#39;][0])</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;ngrams_pos_only_lemmatized.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">ngrams</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">abst</span> <span class="o">=</span> <span class="p">[</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;abstract&quot;</span><span class="p">]]</span>

<span class="nb">len</span><span class="p">(</span><span class="n">abst</span><span class="p">),</span> <span class="n">ngrams</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">abst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2956,
 [&#39;with this&#39;, &#39;problem with&#39;, &#39;main drawback&#39;],
 {&#39;doi&#39;: &#39;10.1029/2006GL027886&#39;,
  &#39;coreId&#39;: &#39;71102&#39;,
  &#39;oai&#39;: &#39;oai:eprints.lancs.ac.uk:6706&#39;,
  &#39;identifiers&#39;: [&#39;oai:eprints.lancs.ac.uk:6706&#39;, &#39;10.1029/2006GL027886&#39;],
  &#39;title&#39;: &#39;Transport of plasma sheet material to the inner magnetosphere&#39;,
  &#39;authors&#39;: [&#39;Denton, M. H.&#39;,
   &#39;Thomsen, M. F.&#39;,
   &#39;Borovsky, J. E.&#39;,
   &#39;Lavraud, B.&#39;,
   &#39;Henderson, M. G.&#39;,
   &#39;Skoug, R. M.&#39;,
   &#39;Funsten, H. O.&#39;,
   &#39;Jahn, J.M.&#39;,
   &#39;Pollock, C. J.&#39;,
   &#39;Weygand, J. M.&#39;],
  &#39;enrichments&#39;: {&#39;references&#39;: [], &#39;documentType&#39;: {&#39;type&#39;: None}},
  &#39;contributors&#39;: [],
  &#39;datePublished&#39;: &#39;2007&#39;,
  &#39;abstract&#39;: &#39;The reaction of the plasma sheet in response to an increase in magnetospheric convection is examined using a combination of energetic neutral atom (ENA) imaging and in situ observations. Data from the IMAGE/MENA instrument are examined in conjunction with observations from the magnetospheric plasma analyzer (MPA) instrument onboard the Los Alamos 1994-084 satellite located in geosynchronous orbit. Examination of the MENA data during an enhanced convection event reveal that between 12:00 and 14:30 UT on 26 June 2001, ENA emissions from the plasma sheet material are observed to strengthen and move Earthwards. A simple calculation of the motion of the peak in ENA emissions following an increase in the convection gives an averaged speed of this sunward surge of around 8 km s−1 between 12:00 and 14:30 UT&#39;,
  &#39;downloadUrl&#39;: &#39;&#39;,
  &#39;fullTextIdentifier&#39;: None,
  &#39;pdfHashValue&#39;: None,
  &#39;publisher&#39;: None,
  &#39;rawRecordXml&#39;: &#39;&lt;record&gt;&lt;header&gt;&lt;identifier&gt;\n    \n    \n      oai:eprints.lancs.ac.uk:6706&lt;/identifier&gt;&lt;datestamp&gt;\n      2018-01-24T03:15:57Z&lt;/datestamp&gt;&lt;setSpec&gt;\n      7374617475733D707562&lt;/setSpec&gt;&lt;setSpec&gt;\n      7375626A656374733D54:5431&lt;/setSpec&gt;&lt;setSpec&gt;\n      74797065733D61727469636C65&lt;/setSpec&gt;&lt;/header&gt;&lt;metadata&gt;&lt;oai_dc:dc xmlns:oai_dc=&#34;http://www.openarchives.org/OAI/2.0/oai_dc/&#34; xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd&#34; &gt;&lt;dc:title&gt;\n    \n      \n        Transport of plasma sheet material to the inner magnetosphere&lt;/dc:title&gt;&lt;dc:creator&gt;\n        Denton, M. H.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Thomsen, M. F.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Borovsky, J. E.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Lavraud, B.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Henderson, M. G.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Skoug, R. M.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Funsten, H. O.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Jahn, J.M.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Pollock, C. J.&lt;/dc:creator&gt;&lt;dc:creator&gt;\n        Weygand, J. M.&lt;/dc:creator&gt;&lt;dc:subject&gt;\n        T Technology (General)&lt;/dc:subject&gt;&lt;dc:description&gt;\n        The reaction of the plasma sheet in response to an increase in magnetospheric convection is examined using a combination of energetic neutral atom (ENA) imaging and in situ observations. Data from the IMAGE/MENA instrument are examined in conjunction with observations from the magnetospheric plasma analyzer (MPA) instrument onboard the Los Alamos 1994-084 satellite located in geosynchronous orbit. Examination of the MENA data during an enhanced convection event reveal that between 12:00 and 14:30 UT on 26 June 2001, ENA emissions from the plasma sheet material are observed to strengthen and move Earthwards. A simple calculation of the motion of the peak in ENA emissions following an increase in the convection gives an averaged speed of this sunward surge of around 8 km s−1 between 12:00 and 14:30 UT.&lt;/dc:description&gt;&lt;dc:date&gt;\n        2007&lt;/dc:date&gt;&lt;dc:type&gt;\n        Journal Article&lt;/dc:type&gt;&lt;dc:type&gt;\n        PeerReviewed&lt;/dc:type&gt;&lt;dc:relation&gt;\n        http://dx.doi.org/10.1029/2006GL027886&lt;/dc:relation&gt;&lt;dc:identifier&gt;\n        Denton, M. H. and Thomsen, M. F. and Borovsky, J. E. and Lavraud, B. and Henderson, M. G. and Skoug, R. M. and Funsten, H. O. and Jahn, J.M. and Pollock, C. J. and Weygand, J. M. (2007) Transport of plasma sheet material to the inner magnetosphere. Geophysical Research Letters, 34 (L04105). pp. 1-5. ISSN 0094-8276&lt;/dc:identifier&gt;&lt;dc:relation&gt;\n        http://eprints.lancs.ac.uk/6706/&lt;/dc:relation&gt;&lt;/oai_dc:dc&gt;&lt;/metadata&gt;&lt;/record&gt;&#39;,
  &#39;journals&#39;: None,
  &#39;language&#39;: None,
  &#39;relations&#39;: [&#39;http://dx.doi.org/10.1029/2006GL027886&#39;,
   &#39;http://eprints.lancs.ac.uk/6706/&#39;],
  &#39;year&#39;: 2007,
  &#39;topics&#39;: [&#39;T Technology (General)&#39;],
  &#39;subject&#39;: [&#39;Journal Article&#39;, &#39;PeerReviewed&#39;],
  &#39;fullText&#39;: None})</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trigrams</span> <span class="o">=</span> <span class="p">[</span><span class="n">gram</span> <span class="k">for</span> <span class="n">gram</span> <span class="ow">in</span> <span class="n">ngrams</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">gram</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span><span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">bigrams</span> <span class="o">=</span> <span class="p">[</span><span class="n">gram</span> <span class="k">for</span> <span class="n">gram</span> <span class="ow">in</span> <span class="n">ngrams</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">gram</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">octoflow.core</span> <span class="kn">import</span> <span class="n">lemmatize</span><span class="p">,</span> <span class="n">find_sentence_in_abstract</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">abst</span><span class="p">)[[</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;doi&quot;</span><span class="p">,</span> <span class="s2">&quot;abstract&quot;</span><span class="p">,</span> <span class="s2">&quot;journals&quot;</span><span class="p">]]</span> <span class="c1">#fulltext</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;lemma_text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;abstract&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">lemmatizetize</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;downloads/core_3k_lemma_abst_only.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hits</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;lemma_text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ngrams</span><span class="p">))]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="n">abst</span> <span class="ow">in</span> <span class="n">hits</span><span class="p">[</span><span class="s2">&quot;abstract&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hits</span><span class="p">[</span><span class="n">hits</span><span class="p">[</span><span class="s2">&quot;abstract&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>doi</th>
      <th>abstract</th>
      <th>journals</th>
      <th>lemma_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11</th>
      <td>The single-payer option: a reconsideration</td>
      <td>10.1215/03616878-2009-013</td>
      <td>This article discusses some of the merits and ...</td>
      <td>None</td>
      <td>this article discuss some of the merit and dem...</td>
    </tr>
    <tr>
      <th>38</th>
      <td>A systematic review of the experiences and per...</td>
      <td>10.1016/j.nedt.2009.10.017</td>
      <td>Aim: A systematic literature review of the exp...</td>
      <td>None</td>
      <td>aim : a systematic literature review of the ex...</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Talking with pictures: Exploring the possibili...</td>
      <td>10.1080/0968776930010104</td>
      <td>As multimedia computing becomes the order of t...</td>
      <td>None</td>
      <td>as multimedia computing become the order of th...</td>
    </tr>
    <tr>
      <th>57</th>
      <td>Cost Model for Evaluation of SDMB Service over...</td>
      <td>10.1109/ISWCS.2005.1547789</td>
      <td>The number of broadband users has beengrowing ...</td>
      <td>None</td>
      <td>the number of broadband user have beengrowe ra...</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Renewable hydrogen utilisation for the product...</td>
      <td>10.1016/j.enconman.2006.06.011</td>
      <td>Electrolytic hydrogen production is an efficie...</td>
      <td>[{'title': None, 'identifiers': ['issn:0196-89...</td>
      <td>electrolytic hydrogen production be an efficie...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2887</th>
      <td>Error management in ATLAS TDAQ : an intelligen...</td>
      <td>None</td>
      <td>This thesis is concerned with the use of intel...</td>
      <td>None</td>
      <td>this thesis be concern with the use of intelli...</td>
    </tr>
    <tr>
      <th>2914</th>
      <td>International economic analysis of primary pre...</td>
      <td>10.1053/euhj.1999.1193</td>
      <td>Aims: The results of the West of Scotland Coro...</td>
      <td>None</td>
      <td>aim : the result of the West of Scotland Coron...</td>
    </tr>
    <tr>
      <th>2927</th>
      <td>Including older people with dementia in resear...</td>
      <td>10.1080/1360786031000150685</td>
      <td>NoThis paper examines key challenges and strat...</td>
      <td>None</td>
      <td>NoThis paper examine key challenge and strateg...</td>
    </tr>
    <tr>
      <th>2930</th>
      <td>Leadership in the European Convention</td>
      <td>10.1080/13501760701656437</td>
      <td>Did the Chairman of the European Convention, V...</td>
      <td>None</td>
      <td>do the Chairman of the European Convention , V...</td>
    </tr>
    <tr>
      <th>2942</th>
      <td>Medication errors with electronic prescribing ...</td>
      <td>10.1186/1472-6963-10-135</td>
      <td>Background: Quantitative prospective methods a...</td>
      <td>None</td>
      <td>background : quantitative prospective method b...</td>
    </tr>
  </tbody>
</table>
<p>309 rows × 5 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">abst</span> <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">substring</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;abstract&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">substring</span> <span class="ow">in</span> <span class="n">ngrams</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

