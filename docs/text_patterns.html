---

title: Finding (Problem Statement) Signal in Sentence Phrasing


keywords: fastai
sidebar: home_sidebar



nb_path: "02_text_patterns.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_text_patterns.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/problem_statements.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">take_while</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">coll</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Yield values from coll until fn is False&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">coll</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fn</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">coll</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">take_while</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="n">n</span><span class="p">,</span>
        <span class="p">(</span><span class="n">coll</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">coll</span><span class="p">),</span> <span class="n">step</span> <span class="ow">or</span> <span class="n">n</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">partition_all</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">coll</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">coll</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">coll</span><span class="p">),</span> <span class="n">step</span> <span class="ow">or</span> <span class="n">n</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="s2">&quot;The difficulty with this task lies in the fact...&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;ipython-input-2-2f9c2f8c8548&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">1</span>
<span class="ansi-red-fg">    &#34;The difficulty with this task lies in the fact...&#34;.map(&#34;&#34;[&#34;lower&#34;]</span>
                                                                       ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> unexpected EOF while parsing
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ERROR! Session/line number was not unique in database. History logging moved to new session 4
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positives</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">negatives</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positives</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PMID</th>
      <th>source</th>
      <th>Title</th>
      <th>text</th>
      <th>labels</th>
      <th>DOI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>acl_cambridge</td>
      <td>NaN</td>
      <td>The difficulty with this task lies in the fact...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>acl_cambridge</td>
      <td>NaN</td>
      <td>The problem with rich annotations is that they...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>acl_cambridge</td>
      <td>NaN</td>
      <td>As a consequence , when adapting existing meth...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">n_grams</span><span class="p">(</span><span class="n">texts</span><span class="p">,</span> <span class="n">n_gram</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="k">return</span> <span class="p">[</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">partition</span><span class="p">(</span><span class="n">n_gram</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bi_grams_pos</span> <span class="o">=</span> <span class="n">n_grams</span><span class="p">(</span><span class="n">positives</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tri_grams_pos</span> <span class="o">=</span> <span class="n">n_grams</span><span class="p">(</span><span class="n">positives</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">bi_grams_neg</span> <span class="o">=</span> <span class="n">n_grams</span><span class="p">(</span><span class="n">negatives</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tri_grams_neg</span> <span class="o">=</span> <span class="n">n_grams</span><span class="p">(</span><span class="n">negatives</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bi_grams_pos</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;The difficulty&#39;, &#39;difficulty with&#39;, &#39;with this&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d1</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_pos</span><span class="p">))</span>
<span class="n">d2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_neg</span><span class="p">))</span>

<span class="n">d3</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">tri_grams_pos</span><span class="p">))</span>
<span class="n">d4</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">tri_grams_neg</span><span class="p">))</span>

<span class="n">bi_grams_both</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:(</span><span class="n">d1</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">d2</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d1</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d2</span><span class="p">}</span>

<span class="n">tri_grams_both</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:(</span><span class="n">d3</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">d4</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d3</span> <span class="k">if</span> <span class="n">d4</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">)}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bi_grams_pos_only</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">d1</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d1</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">d2</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">)}</span> <span class="c1"># and d2.get(x) &lt; 5</span>
<span class="n">tri_grams_pos_only</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">d3</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d3</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">d4</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">)}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">tri_grams_both</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="p">]</span>
<span class="c1">#n-gram: (pos, neg)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;the fact that&#39;, (12, 21)),
 (&#39;et al. ,&#39;, (9, 66)),
 (&#39;that they are&#39;, (12, 12)),
 (&#39;one of the&#39;, (23, 29)),
 (&#39;is that the&#39;, (65, 6)),
 (&#39;the quality of&#39;, (7, 15)),
 (&#39;is that it&#39;, (50, 3)),
 (&#39;that it is&#39;, (11, 18)),
 (&#39;in the training&#39;, (6, 18)),
 (&#39;the training data&#39;, (7, 33)),
 (&#39;it does not&#39;, (10, 24)),
 (&#39;to the same&#39;, (4, 18)),
 (&#39;in terms of&#39;, (6, 18)),
 (&#39;the use of&#39;, (5, 22)),
 (&#39;as well as&#39;, (5, 21)),
 (&#39;the most common&#39;, (18, 11)),
 (&#39;can be used&#39;, (3, 27)),
 (&#39;the number of&#39;, (9, 38)),
 (&#39;the treatment of&#39;, (2, 19)),
 (&#39;a set of&#39;, (1, 21)),
 (&#39;is one of&#39;, (14, 11)),
 (&#39;of the most&#39;, (17, 8)),
 (&#39;is a common&#39;, (19, 9)),
 (&#39;in patients with&#39;, (2, 22))]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_both</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;in the&#39;, (80, 311)),
 (&#39;, and&#39;, (22, 165)),
 (&#39;is that&#39;, (272, 9)),
 (&#39;of the&#39;, (154, 515)),
 (&#39;is the&#39;, (74, 51)),
 (&#39;, the&#39;, (38, 108)),
 (&#39;is not&#39;, (21, 89)),
 (&#39;, which&#39;, (21, 84)),
 (&#39;can be&#39;, (18, 96)),
 (&#39;number of&#39;, (18, 105)),
 (&#39;that the&#39;, (82, 75)),
 (&#39;does not&#39;, (26, 78)),
 (&#39;to be&#39;, (28, 120)),
 (&#39;to the&#39;, (48, 229)),
 (&#39;it is&#39;, (24, 86)),
 (&#39;on the&#39;, (23, 137)),
 (&#39;is a&#39;, (88, 151)),
 (&#39;of a&#39;, (14, 103)),
 (&#39;the same&#39;, (19, 89)),
 (&#39;for the&#39;, (19, 93)),
 (&#39;, we&#39;, (6, 120)),
 (&#39;as a&#39;, (14, 90)),
 (&#39;has been&#39;, (13, 93))]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's look at patterns that one class shows very rarely relative to the other</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">factor</span> <span class="o">=</span> <span class="mi">20</span>
<span class="c1">#show n-grams that appear at least 20x more often in positive samples</span>
<span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_both</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">factor</span><span class="p">],</span> <span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">tri_grams_both</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">factor</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>([(&#39;is that&#39;, (272, 9)), (&#39;problem of&#39;, (54, 1)), (&#39;shortcoming of&#39;, (24, 1))],
 [(&#39;is that the&#39;, (65, 6)), (&#39;is that it&#39;, (50, 3))])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Apparently "problem of" appears 54 in "problem statements" and only once in "non-problem" statement. Let's look at that one sentence!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">negatives</span><span class="p">[</span><span class="n">negatives</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;problem of&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[</span><span class="s2">&quot;text&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;peripheral neuropathy is the most common problem of diabetes.&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Interesting ... through the bi-gram analysis we found a statement that actually sounds like a problem statement and should/could be labeled a 1 (problem statement) ... but isn't in the dataset.
In that case I'd feel OK with using "problem of" as a hard-coded pattern-matching rule in finding positive samples</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_pos_only</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;the problem&#39;, 45),
 (&#39;drawback of&#39;, 57),
 (&#39;limitation is&#39;, 41),
 (&#39;limitation of&#39;, 46),
 (&#39;drawback is&#39;, 66)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">tri_grams_pos_only</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;is that they&#39;, 31),
 (&#39;the problem of&#39;, 41),
 (&#39;limitation is that&#39;, 32),
 (&#39;drawback is that&#39;, 56),
 (&#39;approach is that&#39;, 16),
 (&#39;limitation of the&#39;, 17)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">bi_grams_both</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">texts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;drawback is that&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">texts</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0     Its most obvious drawback is that the method c...
1     The most significant drawback is that ontologi...
2     The main drawback is that it needs almost 20,0...
3     One drawback is that it cannot deal with depen...
4     A potential drawback is that it might not work...
5     The drawback is that , since extracted events ...
6     The main drawback is that the entries produced...
7     An obvious drawback is that it is necessary to...
8     The only drawback is that it willperform slowe...
9     The drawback is that the estimates of paramete...
10    One possible drawback is that senses which one...
11    Their major drawback is that they require a gr...
12    The first drawback is that it requires more kn...
13    Another drawback is that it is impossible to a...
14    The drawback is that the solution may be only ...
15    The main drawback is that structures may not b...
16    Another major drawback is that it requires con...
17    The major drawback is that we have to generate...
18    The drawback is that this context may not be s...
19               The drawback is that this is expensive
20    Their main drawback is that they may or may no...
21    Another drawback is that the different sentenc...
22    The drawback is that the solution may be only ...
23    However , an important drawback is that the ta...
24    A drawback is that their method limits the tra...
25    A drawback is that these features give no info...
26    A possible drawback is that for some inputs , ...
27    A drawback is that this structure may be cubic...
28    The benefit of this approach is that the distr...
29    The main drawback is that training time is inc...
30    However , the drawback is that an adaption to ...
31    The primary drawback is that KB annotations ar...
32    The drawback is that there is a margin of erro...
33    One drawback is that the parsing process might...
34    An additional drawback is that all existing sy...
35    A drawback is that the corpus is not publicly ...
36    A drawback is that a grammar may need a large ...
37    The second drawback is that the criterion for ...
38    However , an obvious drawback is that the actu...
39    The drawback is that the complexity in syntact...
40    The second drawback is that 38 % of the slots ...
41    The drawback is that the identification of men...
42    Its main drawback is that important structural...
43    The drawback is that we only cover about half ...
44    The first drawback is that Ravichandran and Ho...
45    It has many positive features , but one drawba...
46    One potential drawback is that it requires hig...
47    A fundamental drawback is that phrases are tra...
48    A drawback is that theoretical approaches beco...
49    A drawback is that the time complexity of infe...
50    The drawback is that it causes sensitivity to ...
51    One drawback is that LMF provides only a speci...
52    A potential drawback is that we get fewer data...
53    Their drawback is that , as most generative mo...
54    The drawback is that the presence of semantic ...
55    Their main drawback is that they are tied to t...
Name: text, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

